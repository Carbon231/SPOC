[toc]

## 12.2

### 用户注册

- 请求方式：`POST`

- URL：`/user/register`

- 请求参数：

  ```json
  {
    "username": "testuser",
    "password": "securepassword",
    "password_confirm": "securepassword"
  }
  ```

* 返回值：

  * 注册成功 (`201 Created`)：

    ```json
    {
      "message": "注册成功！"
    }
    ```

  * 注册失败(`400 Bad Request`)：

    ```json
    {
      "error": "密码不正确！"
    }
    ```

    或者

    ```json
    {
      "error": "用户名已存在！"
    }
    ```



### 用户登录

- 请求方式：`POST`
- URL：`/user/login`

- 请求参数：

  ```json
  {
    "username": "testuser",
    "password": "securepassword"
  }
  ```

* 返回值：

  * 登录成功(`200 OK`)：

    ```json
    {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
      "message": "登录成功！"
    }
    ```

  * 登录失败(`401 Unauthorized`)：

    ```json
    {
      "error": "用户名不存在或密码不正确！"
    }
    ```



### 根据token获取用户信息

- 请求方式：`GET`
- URL：`/user/get/`

- 请求参数：

  * ```http
    Authorization : `Bearer <Token>`
    ```

* 返回值：

  * 成功(`200 OK`)：

    ```json
    {
      "id": 1,
      "username": "testuser",
      "email": "testuser@example.com"
    }
    ```





